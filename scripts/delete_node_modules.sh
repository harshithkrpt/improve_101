#!/bin/bash

# Script to recursively delete all node_modules directories within a folder

# Check if a directory argument is provided
if [ -z "$1" ]; then
  echo "Usage: $0 .."
  exit 1
fi

# Assign the directory to a variable
TARGET_DIR="$1"

# Check if the provided path is a valid directory
if [ ! -d "$TARGET_DIR" ]; then
  echo "Error: $TARGET_DIR is not a valid directory."
  exit 1
fi

# Find and delete all node_modules directories
echo "Searching for node_modules directories in $TARGET_DIR..."
find "$TARGET_DIR" -type d -name "node_modules" -prune -exec rm -rf '{}' +

echo "All node_modules directories have been deleted."
